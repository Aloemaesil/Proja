"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1714],{21714:function(e,t,n){n.r(t),n.d(t,{__N_SSP:function(){return h},default:function(){return _path_}});var l=n(85893),r=n(67294),o=n(88767),a=n(11163),i=n(96651),s=n(65308),u=n(4480),c=n(57445),d=n(84583);let Body=e=>{let{...t}=e,{path:n="",anchor:d=null}=t,m=(0,a.useRouter)(),{preview:p,v}=m.query,h=void 0!==p,{get:y}=(0,i.Z)({isAdmin:h}),{page:g}=(0,u.sJ)(c.U7),[f,x]=(0,r.useState)(),{data:j,isFetched:b}=(0,o.useQuery)(["body",n],()=>y("/pages/path/".concat(n)),{select:e=>{let{data:t}=e;return t.item},enabled:!h}),{data:A,isFetched:S}=(0,o.useQuery)(["previewBody",n],()=>y("/page/path/".concat(n)),{select:e=>{let{data:t}=e;return t.item},enabled:h&&!v}),{data:T,isFetched:_}=(0,o.useQuery)(["versionData",null==g?void 0:g.id,v],()=>y("/page/".concat(g.id,"/history/").concat(v)),{select:e=>{let{data:t}=e;return t},enabled:!!(h&&v&&(null==g?void 0:g.id))});return(0,r.useEffect)(()=>{try{if(b){let e=null==j?void 0:j.html;x(e)}if(S){let e=null==A?void 0:A.html;x(e)}}catch(e){x(null)}},[b,S,n]),(0,r.useEffect)(()=>{if(_){let e=null==T?void 0:T.html;x(e)}},[_,T]),(0,l.jsx)(s.Z,{html:f,anchor:d})};var m=(0,d.Z)(e=>{let{...t}=e,{readAuth:n}=t;return(0,l.jsx)(l.Fragment,{children:n?(0,l.jsx)(Body,{...t}):null})}),p=n(99911),v=n(39746),h=!0,_path_=e=>{let{...t}=e,n=(0,a.useRouter)(),{path:r,anchor:o}=n.query,{seo:i}=t,s=null==i?void 0:i.metaTitle;return(0,l.jsxs)(v.Z,{...t,children:[(0,l.jsx)(p.Z,{title:s,metaData:t}),(0,l.jsx)(m,{path:r,anchor:o})]})}},84583:function(e,t,n){var l=n(85893),r=n(93155),o=n(10738),a=n(96285),i=n(48266),s=n(57445),u=n(11163),c=n(67294),d=n(88767),m=n(4480);t.Z=e=>t=>{let n=(0,u.useRouter)(),{path:y}=n.query,[g,f]=(0,c.useState)(!1),[x,j]=(0,c.useState)(!1),init=async()=>{await o.Z.getOrReissuePayload(),f(!0)},onChangeAuth=(e,t)=>{};(0,c.useEffect)(()=>{if(n.isReady)return init(),o.Z.subscribe(onChangeAuth),()=>o.Z.unsubscribe(onChangeAuth)},[n]);let[b,A]=(0,m.FV)(s.U7),{data:S,isFetched:T}=(0,d.useQuery)(["pages"],r.UQ,{select:e=>{let{data:t}=e;return{list:null==t?void 0:t.list,common:null==t?void 0:t.common}},staleTime:6e4,cacheTime:3e5});(0,c.useEffect)(()=>{if(T){var e;let t=(null==S?void 0:S.list)||[],n=(null==S?void 0:S.common)||[],l=(0,a.xQ)(t,y),r=(null==S?void 0:null===(e=S.list)||void 0===e?void 0:e.find(e=>e.isHome))||{};A({pageList:t,commonPageList:n,page:l,path:y,home:{id:null==r?void 0:r.id,path:null==r?void 0:r.path,name:null==r?void 0:r.name}})}},[T,y]),(0,c.useEffect)(()=>{if(!n.isReady||!g||null===b.page||(0,i.Q)(b.page))return;let e=!!o.Z.getTokenPayload();if(e){if(v.includes(n.pathname)){n.push("/");return}}else{var t,l,r;let e=(null==b?void 0:null===(t=b.page)||void 0===t?void 0:t.accessPermission)==="login",o=(null==b?void 0:null===(l=b.page)||void 0===l?void 0:l.path)==="home"?["/","/home"]:["/".concat(null==b?void 0:null===(r=b.page)||void 0===r?void 0:r.path)],a=e?[...p,...o]:p;if(a.includes(y?"/".concat(y):n.pathname)){n.push("/login?returnUrl=".concat(encodeURIComponent(n.asPath)));return}}j(!0)},[n,g,b]);let _=h.includes(n.pathname);switch(!0){case _:{var k;let n=!((null==b?void 0:null===(k=b.page)||void 0===k?void 0:k.accessPermission)==="login"&&!o.Z.getTokenPayload());return(0,l.jsx)(e,{...t,readAuth:n})}case!_&&x:return(0,l.jsx)(e,{...t});default:return null}};let p=["/mypage"],v=["/login","/join","/guest/order","/guest/order/[orderNo]","/guest/claim/[orderNo]"],h=["/","/[path]"]},99911:function(e,t,n){var l=n(85893),r=n(67294),o=n(9008),a=n.n(o);t.Z=e=>{let{title:t,metaData:n}=e,{seo:o,curUrl:i,metaTagCode:s,searchAdvisorCode:u,isFreePlan:c}=n,d=(0,r.useMemo)(()=>{let e=null==s?void 0:s.match(/content=(["'`])(.*?)\1/);return e?e[2]:null},[s]);return(0,l.jsxs)(a(),{children:[(0,l.jsx)("title",{children:t}),d&&(0,l.jsx)("meta",{name:"facebook-domain-verification",content:d}),!c&&(null==u?void 0:u.naver)&&(0,l.jsx)("meta",{name:"naver-site-verification",content:"".concat(null==u?void 0:u.naver)}),!c&&(null==u?void 0:u.google)&&(0,l.jsx)("meta",{name:"google-site-verification",content:"".concat(null==u?void 0:u.google)}),o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("meta",{name:"language",content:"kr"}),(0,l.jsx)("meta",{name:"referrer",content:"always"}),(0,l.jsx)("meta",{name:"title",content:null==o?void 0:o.metaTitle}),(0,l.jsx)("meta",{name:"description",content:null==o?void 0:o.metaDescription}),(0,l.jsx)("meta",{name:"keywords",content:null==o?void 0:o.metaKeywords}),(0,l.jsx)("meta",{name:"author",content:null==o?void 0:o.metaTitle}),(0,l.jsx)("meta",{name:"robots",content:"index, follow"}),(0,l.jsx)("meta",{property:"og:site_name",content:null==o?void 0:o.siteName}),(0,l.jsx)("meta",{property:"og:type",content:"site"}),(0,l.jsx)("meta",{property:"og:url",content:i}),(0,l.jsx)("meta",{property:"og:title",content:null==o?void 0:o.metaTitle}),(0,l.jsx)("meta",{property:"og:description",content:null==o?void 0:o.metaDescription}),(0,l.jsx)("meta",{property:"og:image",content:null==o?void 0:o.metaThumbnailUrl}),o.metaTags,(0,l.jsx)("link",{rel:"shortcut icon",href:null==o?void 0:o.faviconUrl,type:"image/x-icon"})]})]})}},39746:function(e,t,n){var l=n(85893),r=n(67294),o=n(9008),a=n.n(o),i=n(4480),s=n(57445);let u=["commerce","starter"];t.Z=e=>{let{children:t,searchAdvisorCode:n,commonCode:o,bodyRef:c,footerRef:d}=e,{plan:m}=(0,i.sJ)(s.ZP),p=!u.includes(m),[v,h]=(0,r.useState)(),parseHeadTags=e=>{var t;let n=new DOMParser,l=n.parseFromString(e,"text/html"),r=(null===(t=l.head.querySelector("title"))||void 0===t?void 0:t.innerText)||"",o=Array.from(l.head.querySelectorAll("meta")).map(e=>({name:e.getAttribute("name"),property:e.getAttribute("property"),content:e.getAttribute("content")})),a=Array.from(l.head.querySelectorAll("link")).map(e=>({rel:e.getAttribute("rel"),href:e.getAttribute("href"),type:e.getAttribute("type")})),i=Array.from(l.head.querySelectorAll("style")).map(e=>e.textContent),s=Array.from(l.head.querySelectorAll("script")).map(e=>({src:e.getAttribute("src"),content:e.textContent,type:e.getAttribute("type")})),u=l.head.querySelector("base")?{href:l.head.querySelector("base").getAttribute("href"),target:l.head.querySelector("base").getAttribute("target")}:null,c=Array.from(l.head.querySelectorAll("noscript")).map(e=>e.textContent);return{title:r,metas:o,links:a,styles:i,scripts:s,base:u,noscripts:c}};return(0,r.useEffect)(()=>{!p&&o&&(h(parseHeadTags(null==o?void 0:o.commonHeader)),(null==c?void 0:c.current)&&(null==o?void 0:o.commonBody)&&(c.current.innerHTML=o.commonBody),(null==d?void 0:d.current)&&(null==o?void 0:o.commonFooter)&&(d.current.innerHTML=o.commonFooter))},[p,o]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a(),{children:[(null==v?void 0:v.title)&&(0,l.jsx)("title",{children:null==v?void 0:v.title}),null==v?void 0:v.metas.map((e,t)=>(0,l.jsx)("meta",{...e.name&&{name:e.name},...e.property&&{property:e.property},content:e.content},"meta-".concat(t))),null==v?void 0:v.links.map((e,t)=>(0,l.jsx)("link",{rel:e.rel,href:e.href,...e.type&&{type:e.type}},"link-".concat(t))),null==v?void 0:v.styles.map((e,t)=>(0,l.jsx)("style",{dangerouslySetInnerHTML:{__html:e}},"style-".concat(t))),null==v?void 0:v.scripts.map((e,t)=>e.src?(0,l.jsx)("script",{src:e.src,...e.type&&{type:e.type}},"script-".concat(t)):(0,l.jsx)("script",{dangerouslySetInnerHTML:{__html:e.content},...e.type&&{type:e.type}},"script-".concat(t))),(null==v?void 0:v.base)&&(0,l.jsx)("base",{href:null==v?void 0:v.base.href,...(null==v?void 0:v.base.target)&&{target:null==v?void 0:v.base.target}}),null==v?void 0:v.noscripts.map((e,t)=>(0,l.jsx)("noscript",{dangerouslySetInnerHTML:{__html:e}},"noscript-".concat(t)))]}),t]})}}}]);